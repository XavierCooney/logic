parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Focm":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?n(t):r}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var u=["p","q","r","s","a","b","x","y"],c=[],h=function(){function e(){l(this,e)}return o(e,[{key:"evaluate",value:function(e){throw new Error}}]),e}(),f=function(e){function n(e){var i;return l(this,n),(i=t(this,r(n).call(this))).symbol=e,i}return i(n,h),o(n,[{key:"evaluate",value:function(e){return e[this.symbol]}}]),n}(),v=function(e){function n(e){var i;return l(this,n),(i=t(this,r(n).call(this))).e=e,i}return i(n,h),o(n,[{key:"evaluate",value:function(e){return!this.e.evaluate(e)}}]),n}(),m=function(e){function n(e,i){var s;return l(this,n),(s=t(this,r(n).call(this))).a=e,s.b=i,s}return i(n,h),o(n,[{key:"evaluate",value:function(e){return this.a.evaluate(e)&&this.b.evaluate(e)}}]),n}(),p=function(e){function n(e,i){var s;return l(this,n),(s=t(this,r(n).call(this))).a=e,s.b=i,s}return i(n,h),o(n,[{key:"evaluate",value:function(e){return this.a.evaluate(e)||this.b.evaluate(e)}}]),n}(),y=function(e){function n(e,i){var s;return l(this,n),(s=t(this,r(n).call(this))).a=e,s.b=i,s}return i(n,h),o(n,[{key:"evaluate",value:function(e){var t=this.a.evaluate(e),n=this.b.evaluate(e);return!t||n}}]),n}(),d=function(e){function n(e,i){var s;return l(this,n),(s=t(this,r(n).call(this))).a=e,s.b=i,s}return i(n,h),o(n,[{key:"evaluate",value:function(e){return this.a.evaluate(e)==this.b.evaluate(e)}}]),n}(),g=function e(t,n){l(this,e),this.expr=t,this.msg=n},b=function(){function e(t){l(this,e),this.s=t}return o(e,[{key:"consume_whitespace",value:function(){var e=this.s.match(/^[ ]*/)[0].length;this.s=this.s.slice(e)}},{key:"parse",value:function(e){if(this.consume_whitespace(),e<=0){var t=this.s.match(/[a-zA-Z]+/);if(null!=t)return this.s=this.s.slice(t[0].length),c.includes(t[0])?new g(new f(t[0]),null):new g(null,'Unrecognised variable "'.concat(t[0],'"'));if(this.s.length>0&&"("==this.s[0]){this.s=this.s.slice(1),this.consume_whitespace();var n=this.parse(10);return n.msg?n:(this.consume_whitespace(),this.s.length<1||")"!=this.s[0]?new g(null,"Expected close bracket"):n)}return this.s.length>0?new g(null,'Incorrect formulation (around character "'.concat(this.s[0],'")')):new g(null,"Incorrect formulation (around the end of input)")}if(1==e){var r=0;for(this.consume_whitespace();this.s.length>0&&["~","!","¬"].includes(this.s[0]);)this.s=this.s.slice(1),this.consume_whitespace(),r+=1;var i=this.parse(e-1);if(i.msg)return i;for(;r>0;)i=new g(new v(i.expr),i.msg),r-=1,console.log(r);return i}if(3==e){var s=this.parse(e-1);if(s.msg)return s;for(this.consume_whitespace();this.s.length>0&&["∧","&","."].includes(this.s[0]);){this.s=this.s.slice(1),this.consume_whitespace();var l=this.parse(e-1);if(l.msg)return l;this.consume_whitespace(),s=new g(new m(s.expr,l.expr),s.msg)}return s}if(4==e){var a=this.parse(e-1);if(a.msg)return a;for(this.consume_whitespace();this.s.length>0&&["∨","+","|"].includes(this.s[0]);){this.s=this.s.slice(1),this.consume_whitespace();var o=this.parse(e-1);if(o.msg)return o;this.consume_whitespace(),a=new g(new p(a.expr,o.expr),a.msg)}return a}if(5==e){var u=this.parse(e-1);if(u.msg)return u;for(this.consume_whitespace();this.s.length>0&&["→",">"].includes(this.s[0]);){this.s=this.s.slice(1),this.consume_whitespace();var h=this.parse(e-1);if(h.msg)return h;this.consume_whitespace(),u=new g(new y(u.expr,h.expr),u.msg)}return u}if(6==e){var b=this.parse(e-1);if(b.msg)return b;for(this.consume_whitespace();this.s.length>0&&["↔","=","≡","⊨"].includes(this.s[0]);){this.s=this.s.slice(1),this.consume_whitespace();var w=this.parse(e-1);if(w.msg)return w;this.consume_whitespace(),b=new g(new d(b.expr,w.expr),b.msg)}return b}var E=this.parse(e-1);return this.consume_whitespace(),E}},{key:"parse_fully",value:function(){var e=this.parse(10);return!e.msg&&this.s.length>0?new g(null,'Failed to fully read input around "'.concat(this.s,'"')):e}}]),e}();function w(){var e=document.getElementById("variable-logic-input").value.split(/[ ,]+/).filter(Boolean),t=e.length==c.length&&e.every(function(e,t){return e===c[t]});console.log(t,e,c),t||(c=e,E())}function E(){for(var e=document.getElementById("variable-select-btns");e.firstChild;)e.removeChild(e.firstChild);var t=new Set(u.concat(c)),n=!0,r=!1,i=void 0;try{for(var s,l=function(){var t=s.value,n=document.createElement("button"),r=c.includes(t);n.innerText=t+(r?" ✔":""),r&&(n.style.border="3px red solid"),n.addEventListener("click",function(e){c.includes(t)?c=c.filter(function(e){return e!=t}):c.push(t),E()}),e.appendChild(n)},a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)l()}catch(o){r=!0,i=o}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}document.getElementById("variable-logic-input").value=c.join(", "),x(),_()}function x(){var e=document.getElementById("option-logic-symbols-hints"),t=document.getElementById("option-logic-symbols-synonyms"),n=e.checked,r=t.checked,i=[[" → ","→","implies"],["¬","¬","negation"],[" ∧ ","∧","conjunction"],[" ∨ ","∨","disjunction"],[" ↔ ","↔","iff"],["(","(",""],[")",")",""]];r&&(i=i.concat([[" = ","=","equals"],[" ≡ ","≡","if and only if"],[" ⊨ ","⊨","semantically entails"]]));var s=!0,l=!1,a=void 0;try{for(var o,u=c[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var h=o.value;i.push([h,h,"variable"])}}catch(g){l=!0,a=g}finally{try{s||null==u.return||u.return()}finally{if(l)throw a}}var f=!0,v=!1,m=void 0;try{for(var p,y=function(){for(var e=p.value;e.firstChild;)e.removeChild(e.firstChild);var t=!0,r=!1,s=void 0;try{for(var l,a=function(){var t=l.value,r=document.createElement("button");r.innerText=t[1]+(n&&t[2]?" ("+t[2]+")":""),r.addEventListener("click",function(){var n=e.parentElement;console.log(n);var r=n.getElementsByClassName("logic-input-line")[0].getElementsByClassName("logic-input")[0],i=r.selectionStart;r.value=r.value.slice(0,r.selectionStart)+t[0]+r.value.slice(r.selectionStart),r.focus(),r.selectionStart=r.selectionEnd=i+t[0].length,_()}),e.appendChild(r)},o=i[Symbol.iterator]();!(t=(l=o.next()).done);t=!0)a()}catch(g){r=!0,s=g}finally{try{t||null==o.return||o.return()}finally{if(r)throw s}}},d=Array.prototype.slice.call(document.getElementsByClassName("virt-btn-keyboard virt-btn-logic-symbs"))[Symbol.iterator]();!(f=(p=d.next()).done);f=!0)y()}catch(g){v=!0,m=g}finally{try{f||null==d.return||d.return()}finally{if(v)throw m}}}function _(){setTimeout(k,10)}function k(){var e=Array.prototype.slice.call(document.getElementsByClassName("conclusions-input-box")),t=Array.prototype.slice.call(document.getElementsByClassName("premises-input-box")),n=[],r=[],i=!0,s=!1,l=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var u=a.value,h=u.getElementsByClassName("logic-output-err")[0],f=u.getElementsByClassName("logic-input")[0].value,v=new b(f).parse_fully();h.classList.remove("all-good"),v.msg?h.innerText=v.msg+"\n":(h.innerText="",n.push({e:v.expr,b:h}))}}catch(L){s=!0,l=L}finally{try{i||null==o.return||o.return()}finally{if(s)throw l}}var m=!0,p=!1,y=void 0;try{for(var d,g=t[Symbol.iterator]();!(m=(d=g.next()).done);m=!0){var w=d.value,E=w.getElementsByClassName("logic-output-err")[0],x=w.getElementsByClassName("logic-input")[0].value,_=new b(x).parse_fully();_.msg?E.innerText=_.msg+"\n":(E.innerText="",r.push({e:_.expr,b:E}))}}catch(L){p=!0,y=L}finally{try{m||null==g.return||g.return()}finally{if(p)throw y}}function k(e){var t=[];for(var n in e){e[n]?t.push("".concat(n)):t.push("¬".concat(n))}return console.log(e,t.join(", ")),t.join(", ")}!function e(t,i){if(0==t.length)!function(e){for(var t=0,i=r;t<i.length;t++)if(!i[t].e.evaluate(e))return;for(var s=0,l=n;s<l.length;s++){var a=l[s];a.e.evaluate(e)||(a.b.innerText+="Case faied for "+k(e)+"\n")}}(i);else{var s=Object.assign({},i);s[t[0]]=!1;var l=Object.assign({},i);l[t[0]]=!0,e(t.slice(1),s),e(t.slice(1),l)}}(c,{});for(var B=0,C=n;B<C.length;B++){var S=C[B];""==S.b.innerText&&(S.b.classList.add("all-good"),S.b.innerText="All cases correct ✅")}}function B(){x();var e=!0,t=!1,n=void 0;try{for(var r,i=Array.prototype.slice.call(document.getElementsByClassName("logic-input"))[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var s=r.value;s.spellcheck=!1,s.autocapitalize="off",s.autocomplete="off"}}catch(d){t=!0,n=d}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}var l=!0,a=!1,o=void 0;try{for(var u,c=Array.prototype.slice.call(document.getElementsByClassName("logic-input"))[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var h=u.value;h.addEventListener("input",_),h.addEventListener("change",_)}}catch(d){a=!0,o=d}finally{try{l||null==c.return||c.return()}finally{if(a)throw o}}var f=!0,v=!1,m=void 0;try{for(var p,y=Array.prototype.slice.call(document.getElementsByClassName("logic-remove-premise"))[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){p.value.addEventListener("click",function(){this.parentElement.parentElement.parentElement.remove(),_()})}}catch(d){v=!0,m=d}finally{try{f||null==y.return||y.return()}finally{if(v)throw m}}}window.addEventListener("load",function(){E();var e=document.getElementById("variable-logic-input");e.addEventListener("change",w),e.addEventListener("input",w),B(),document.getElementById("option-logic-symbols-hints").addEventListener("click",x),document.getElementById("option-logic-symbols-synonyms").addEventListener("click",x),document.getElementById("make-new-assumption").addEventListener("click",function(){var e=document.createElement("div");e.classList.add("big-box"),e.classList.add("premises-input-box"),e.innerHTML='\n        <div class="inner-input-box">\n            <div class="logic-input-line">\n                <h2>Premise</h2>\n                <input class="logic-input">\n                <button class="logic-remove-premise">Remove</button>\n            </div>\n            <div id="conclusions-select-btns" class="virt-btn-keyboard virt-btn-logic-symbs"></div>\n        </div>\n        <div class="logic-output-err"></div>',this.parentElement.insertBefore(e,this),B(),_()})});
},{}]},{},["Focm"], null)
//# sourceMappingURL=src.7d147d00.js.map