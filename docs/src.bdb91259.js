parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function n(e,t){if(!e)throw new Error(t)}console.log("Open source at https://github.com/XavierCooney/logic/");var r=["p","q","r","s","a","b","x","y"],i=[{v:["p","q"],a:["p → q","p"],c:"q",name:"Modus ponens"},{v:["p","q"],a:["p → q","¬q"],c:"¬p",name:"Modus tollens"},{v:["p","q"],a:["p → q","q → p"],c:"p ↔ q",name:"Biconditional introduction"},{v:["p","q"],a:["¬(p ∧ q)","p"],c:"¬q",name:"Modus ponendo tollens"},{v:["p","q"],a:["p → q","¬p"],c:"¬q",name:"Fallacy: Denying the antecedent"},{v:["p","q"],a:["p → q","q"],c:"p",name:"Fallacy: Affirming the consequent"},{v:["p","q"],a:["p ∨ q","q"],c:"¬p",name:"Fallacy: Affirming a disjunct"}],o=[],s=function(){return function(){}}(),a=function(t){function n(e){var n=t.call(this)||this;return n.symbol=e,n}return e(n,t),n.prototype.evaluate=function(e){return e[this.symbol]},n}(s),l=function(t){function n(e){var n=t.call(this)||this;return n.e=e,n}return e(n,t),n.prototype.evaluate=function(e){return!this.e.evaluate(e)},n}(s),c=function(t){function n(e,n){var r=t.call(this)||this;return r.a=e,r.b=n,r}return e(n,t),n.prototype.evaluate=function(e){return this.a.evaluate(e)&&this.b.evaluate(e)},n}(s),u=function(t){function n(e,n){var r=t.call(this)||this;return r.a=e,r.b=n,r}return e(n,t),n.prototype.evaluate=function(e){return this.a.evaluate(e)||this.b.evaluate(e)},n}(s),h=function(t){function n(e,n){var r=t.call(this)||this;return r.a=e,r.b=n,r}return e(n,t),n.prototype.evaluate=function(e){return this.a.evaluate(e)==this.b.evaluate(e)},n}(s),d=function(t){function n(e,n){var r=t.call(this)||this;return r.a=e,r.b=n,r}return e(n,t),n.prototype.evaluate=function(e){var t=this.a.evaluate(e),n=this.b.evaluate(e);return!t||n},n}(s),p=function(t){function n(e){var n=t.call(this)||this;return n.value=e,n}return e(n,t),n.prototype.evaluate=function(e){return this.value},n}(s),m=function(){return function(e,t){if(!e&&!t)throw new Error("Neither expression nor message defined");this.expr=e,this.msg=t}}(),f=function(){function e(e){this.s=e}return e.prototype.consume_whitespace=function(){var e,t=null===(e=this.s.match(/^[ ]*/))||void 0===e?void 0:e[0].length;this.s=this.s.slice(t)},e.prototype.parse=function(e){if(this.consume_whitespace(),e<=0){var t=this.s.match(/^[a-zA-Z_]+/);return null==t||["T","F"].includes(t[0])?this.s.length>0&&"("==this.s[0]?(this.s=this.s.slice(1),this.consume_whitespace(),(s=this.parse(10)).msg?s:(this.consume_whitespace(),this.s.length<1||")"!=this.s[0]?new m(void 0,"Expected close bracket"):(this.s=this.s.slice(1),this.consume_whitespace(),s))):this.s.length>0&&["⊤","T"].includes(this.s[0])?(this.s=this.s.slice(1),this.consume_whitespace(),new m(new p(!0),void 0)):this.s.length>0&&["⊥","F"].includes(this.s[0])?(this.s=this.s.slice(1),this.consume_whitespace(),new m(new p(!1),void 0)):this.s.length>0?new m(void 0,'Incorrect formulation (around character "'+this.s[0]+'")'):new m(void 0,"Incorrect formulation (around the end of input)"):(this.s=this.s.slice(t[0].length),o.includes(t[0])?new m(new a(t[0]),void 0):new m(void 0,'Unrecognised variable "'+t[0]+'"'))}if(1==e){var r=0;for(this.consume_whitespace();this.s.length>0&&["~","!","¬"].includes(this.s[0]);)this.s=this.s.slice(1),this.consume_whitespace(),r+=1;if((s=this.parse(e-1)).msg)return s;for(;r>0;)n(s.expr),s=new m(new l(s.expr),s.msg),r-=1;return s}if(3==e){if((s=this.parse(e-1)).msg)return s;for(this.consume_whitespace();this.s.length>0&&["∧","&","."].includes(this.s[0]);){if(this.s=this.s.slice(1),this.consume_whitespace(),(i=this.parse(e-1)).msg)return i;this.consume_whitespace(),n(s.expr),n(i.expr),s=new m(new c(s.expr,i.expr),s.msg)}return s}if(4==e){if((s=this.parse(e-1)).msg)return s;for(this.consume_whitespace();this.s.length>0&&["∨","+","|"].includes(this.s[0]);){if(this.s=this.s.slice(1),this.consume_whitespace(),(i=this.parse(e-1)).msg)return i;this.consume_whitespace(),n(s.expr),n(i.expr),s=new m(new u(s.expr,i.expr),s.msg)}return s}if(5==e){if((s=this.parse(e-1)).msg)return s;for(this.consume_whitespace();this.s.length>0&&["→",">"].includes(this.s[0]);){if(this.s=this.s.slice(1),this.consume_whitespace(),(i=this.parse(e-1)).msg)return i;this.consume_whitespace(),n(s.expr),n(i.expr),s=new m(new d(s.expr,i.expr),s.msg)}return s}if(6==e){if((s=this.parse(e-1)).msg)return s;for(this.consume_whitespace();this.s.length>0&&["↔","=","≡","⊨"].includes(this.s[0]);){var i;if(this.s=this.s.slice(1),this.consume_whitespace(),(i=this.parse(e-1)).msg)return i;this.consume_whitespace(),n(s.expr),n(i.expr),s=new m(new h(s.expr,i.expr),s.msg)}return s}var s=this.parse(e-1);return this.consume_whitespace(),s},e.prototype.parse_fully=function(){var e=this.parse(10);return!e.msg&&this.s.length>0?new m(void 0,'Failed to fully read input around "'+this.s+'"'):e},e}();function v(){var e=document.getElementById("variable-logic-input").value.split(/[ ,]+/).filter(Boolean);e.length==o.length&&e.every(function(e,t){return e===o[t]})||(o=e,y())}function y(){for(var e,n,i=document.getElementById("variable-select-btns");i.firstChild;)i.removeChild(i.firstChild);var s=new Set(r.concat(o)),a=function(e){var t=document.createElement("button"),n=o.includes(e);t.innerText=e+(n?" ✔":""),n&&(t.style.border="3px red solid"),t.addEventListener("click",function(t){o.includes(e)?o=o.filter(function(t){return t!=e}):o.push(e),y()}),i.appendChild(t)};try{for(var l=t(s),c=l.next();!c.done;c=l.next()){a(c.value)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}document.getElementById("variable-logic-input").value=o.join(", "),g(),w()}function g(){var e,n,r,i,s=document.getElementById("option-logic-symbols-hints"),a=document.getElementById("option-logic-symbols-synonyms"),l=s.checked,c=a.checked,u=[[" → ","→","implies"],["¬","¬","negation"],[" ∧ ","∧","conjunction"],[" ∨ ","∨","disjunction"],[" ↔ ","↔","iff"],["(","(",""],[")",")",""],["⊤","⊤","tautology"],["⊥","⊥","contradiction"]];c&&(u=u.concat([[" = ","=","equals"],[" ≡ ","≡","if and only if"],[" ⊨ ","⊨","semantically entails"],["T","T","true"],["F","F","false"]]));try{for(var h=t(o),d=h.next();!d.done;d=h.next()){var p=d.value;u.push([p,p,"variable"])}}catch(y){e={error:y}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}var m=function(e){for(var n,r;e.firstChild;)e.removeChild(e.firstChild);var i=function(t){var n=document.createElement("button");n.innerText=t[1]+(l&&t[2]?" ("+t[2]+")":""),n.addEventListener("click",function(){var n=e.parentElement.getElementsByClassName("logic-input-line")[0].getElementsByClassName("logic-input")[0],r=n.selectionStart;n.value=n.value.slice(0,n.selectionStart)+t[0]+n.value.slice(n.selectionStart),n.focus(),n.selectionStart=n.selectionEnd=r+t[0].length,w()}),e.appendChild(n)};try{for(var o=(n=void 0,t(u)),s=o.next();!s.done;s=o.next()){i(s.value)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}};try{for(var f=t(Array.prototype.slice.call(document.getElementsByClassName("virt-btn-keyboard virt-btn-logic-symbs"))),v=f.next();!v.done;v=f.next()){m(v.value)}}catch(g){r={error:g}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}function w(){setTimeout(x,10)}function x(){var e,r,i,s,a,l,c=Array.prototype.slice.call(document.getElementsByClassName("conclusions-input-box")),u=Array.prototype.slice.call(document.getElementsByClassName("premises-input-box")),h=[],d=[];try{for(var p=t(c),m=p.next();!m.done;m=p.next()){var v=m.value,y=v.getElementsByClassName("logic-output-err")[0],g=v.getElementsByClassName("logic-input")[0].value,w=new f(g).parse_fully();y.classList.remove("all-good"),w.msg?y.innerText=w.msg+"\n":(y.innerText="",n(w.expr),h.push({e:w.expr,b:y}))}}catch(I){e={error:I}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}try{for(var x=t(u),b=x.next();!b.done;b=x.next()){var E=b.value;y=E.getElementsByClassName("logic-output-err")[0],g=E.getElementsByClassName("logic-input")[0].value;(w=new f(g).parse_fully()).msg?y.innerText=w.msg+"\n":(y.innerText="",n(w.expr),d.push({e:w.expr,b:y}))}}catch(L){i={error:L}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}function _(e){var t=[];for(var n in e){e[n]?t.push(""+n):t.push("¬"+n)}return t.join(", ")}!function e(n,r){if(0==n.length)!function(e){var n,r,i,o;try{for(var s=t(d),a=s.next();!a.done;a=s.next())if(!(u=a.value).e.evaluate(e))return}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var l=t(h),c=l.next();!c.done;c=l.next()){var u;(u=c.value).e.evaluate(e)||(u.b.innerText+="Case failed for "+_(e)+"\n")}}catch(m){i={error:m}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}(r);else{var i=Object.assign({},r);i[n[0]]=!1;var o=Object.assign({},r);o[n[0]]=!0,e(n.slice(1),i),e(n.slice(1),o)}}(o,{});try{for(var B=t(h),C=B.next();!C.done;C=B.next()){var q=C.value;""==q.b.innerText&&(q.b.classList.add("all-good"),q.b.innerText="All cases correct ✅")}}catch(N){a={error:N}}finally{try{C&&!C.done&&(l=B.return)&&l.call(B)}finally{if(a)throw a.error}}}function b(){var e,n,r,i,o,s;g();try{for(var a=t(Array.prototype.slice.call(document.getElementsByClassName("logic-input"))),l=a.next();!l.done;l=a.next()){var c=l.value;c.spellcheck=!1,c.autocapitalize="off",c.autocomplete="off"}}catch(f){e={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}try{for(var u=t(Array.prototype.slice.call(document.getElementsByClassName("logic-input"))),h=u.next();!h.done;h=u.next()){(m=h.value).addEventListener("input",w),m.addEventListener("change",w)}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}try{for(var d=t(Array.prototype.slice.call(document.getElementsByClassName("logic-remove-premise"))),p=d.next();!p.done;p=d.next()){var m;(m=p.value).addEventListener("click",function(){var e,t,n;null===(n=null===(t=null===(e=null===this||void 0===this?void 0:this.parentElement)||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n||n.remove(),w()})}}catch(y){o={error:y}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}}function E(e,n,r){var i,s;o=e.slice(0),document.getElementById("logic-conclusion-input").value=r,Array.from(document.getElementsByClassName("premises-input-box")).forEach(function(e){e.remove()});try{for(var a=t(n),l=a.next();!l.done;l=a.next()){B(l.value)}}catch(c){i={error:c}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}y(),w()}function _(){var e=new URL(window.location.href).searchParams.get("s");if(e){var t=decodeURIComponent(escape(atob(decodeURIComponent(e))));console.log("JSON: "+t);var n=JSON.parse(t);E(n.v,n.a,n.c)}}function B(e){var t,n,r=document.createElement("div");r.classList.add("big-box"),r.classList.add("premises-input-box"),r.innerHTML='\n    <div class="inner-input-box">\n        <div class="logic-input-line">\n            <h2>Premise</h2>\n            <input class="logic-input">\n            <button class="logic-remove-premise">Remove</button>\n        </div>\n        <div id="conclusions-select-btns" class="virt-btn-keyboard virt-btn-logic-symbs"></div>\n    </div>\n    <div class="logic-output-err"></div>',r.getElementsByClassName("logic-input")[0].value=e,null===(n=null===(t=document.getElementById("make-new-assumption"))||void 0===t?void 0:t.parentElement)||void 0===n||n.insertBefore(r,document.getElementById("make-new-assumption")),b(),w()}function C(){var e={v:[],a:[],c:""};function t(e){return Array.prototype.slice.call(document.getElementsByClassName(e)).map(function(e){return e.getElementsByClassName("logic-input")[0].value})}return e.v=o,e.a=t("premises-input-box"),e.c=t("conclusions-input-box")[0],e}window.convert_system_to_object_str=function(){return JSON.stringify(C())},window.addEventListener("load",function(){var e,r,o,s,a,l,c,u;_(),y();var h=document.getElementById("variable-logic-input");n(h),h.addEventListener("change",v),h.addEventListener("input",v),b(),null===(o=document.getElementById("option-logic-symbols-hints"))||void 0===o||o.addEventListener("click",g),null===(s=document.getElementById("option-logic-symbols-synonyms"))||void 0===s||s.addEventListener("click",g),null===(a=document.getElementById("make-new-assumption"))||void 0===a||a.addEventListener("click",function(){B("")}),null===(l=document.getElementById("share-btn"))||void 0===l||l.addEventListener("click",function(){var e=btoa(unescape(encodeURIComponent(JSON.stringify(C())))),t=window.location.href.slice(0,window.location.href.length-window.location.search.length);prompt("Please share/save this URL to return to your logic system:",t+"?s="+window.encodeURIComponent(e))});try{for(var d=t(i),p=d.next();!p.done;p=d.next()){var m=p.value,f=document.createElement("option");f.innerText=m.name,null===(c=document.getElementById("example-select"))||void 0===c||c.appendChild(f)}}catch(w){e={error:w}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}null===(u=document.getElementById("load-example-btn"))||void 0===u||u.addEventListener("click",function(){var e=document.getElementById("example-select").selectedIndex;document.getElementById("example-loaded-msg").innerText="Example Loaded: "+i[e].name,E(i[e].v,i[e].a,i[e].c)})});
},{}]},{},["QCba"], null)
//# sourceMappingURL=src.bdb91259.js.map